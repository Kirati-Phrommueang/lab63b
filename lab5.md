# การทดลองที่5 การเขียนโปรแกรมเชื่อมต่อไวไฟและเว็บเซอร์เวอร์

## วัตถุประสงค์
* 1.ทดสอบการทำงานของโปรแกรมเชื่อมต่อไวไฟและเว็บเซอร์เวอร์

## อุปกรณ์
* 1.ไมโครคอนโทรเลอร์ ESP01
* 2.ซีเรียลพอร์ตUSB
* 3.คอมพิวเตอร์
* 4.สายแปลงUSB

## ศึกษาข้อมูลเบื้องต้น
* 1.ศึกษาข้อมูลของไมโครคอนโทรเลอร์ที่ใช้(https://docs.platformio.org/en/latest/boards/espressif8266/esp01_1m.html)
* 2.ศึกษาโค้ดของโปรแกรมที่ต้องการรันบนไมโครคอนโทรเลอร์(https://github.com/choompol-boonmee/lab63b/blob/master/examples/05_Wifi-Web-Server/src/main.cpp)

## วิธีการทำการทดลอง
* 1.เชื่อมต่อสายแปลงUSBด้านหนึ่งเข้ากับคอมพิวเตอร์และอีกด้านเข้ากับซีเรียล
<img width="383" alt="ภาพถ่ายหน้าจอ 2564-03-23 เวลา 20 24 26" src="https://user-images.githubusercontent.com/80879658/112158529-d5dcfc80-8c1a-11eb-97c4-de74f8a6fb21.png">

* 2.ต่อไมโครคอนโทรเลอร์เข้ากับซีเรียล
<img width="386" alt="ภาพถ่ายหน้าจอ 2564-03-23 เวลา 18 29 23" src="https://user-images.githubusercontent.com/80879658/112158552-db3a4700-8c1a-11eb-9102-8863ba174bd7.png">

* 3.เรียกโฟรเดอร์ที่เราบันทึกโปรแกรมเก็บไว้ โดยในการทดลองนี้โปรแกรมของเราอยู่ในโฟรเดอร์pattani โดยใช้คำสั่ง'cd pattani'
* 4.เรียกโปรแกรมที่เราต้องการ โดยในการทดลองนี้เราจะใช้โปรแกรมที่1ในโฟรเดอร์pattani โดยใช้คำสั่ง'cd 05_Wifi-Web-Server'
* 5.รันโปรแกรมลงบนไมโครคอนโทรเลอร์ โดยใช้คำสั่ง'pio run -t uplond'
* 6.ขณะรันโปรแกรมให้กดปุ่มสีดำ
* 7.ทดสอบโปรแกรมที่รันสำเร็จ โดยเปิดเว็บเบราว์เซอร์แล้วทำการรอการคอมไพล์โปรแกรมและอัปโหลดเข้าไมโครคอนโทรเลอร์
* 8.เมื่ออัปโหลดสำเร็จ ทำการเปิดเว็บเบราว์เซอร์แล้วนำIPFSที่ได้ไปเปิดในเว็บเบราว์เซอร์ เมื่อมีข้อความปรากฏให้กดปุ่มสีดำเพื่อรีเซต
* 9.จากนั้นทดอลงแก้ไขโปรแกรม โดยเพิ่มคำว่า'H1'ลงในโค้ดของโปรแกรมในบรรทัดที่30 แล้วทำตามขั้นตอนที่5-8อีกครั้ง

## การบันทึกผลการทดลอง
* เมื่อไมโครคอนโทรเลอร์รันโปรแกรมสำเร็จ ได้ผลดังนี้
<img width="803" alt="ภาพถ่ายหน้าจอ 2564-03-23 เวลา 19 31 50" src="https://user-images.githubusercontent.com/80879658/112343448-b961c280-8cf5-11eb-8950-e4179b9adac2.png">
<img width="804" alt="ภาพถ่ายหน้าจอ 2564-03-23 เวลา 19 33 08" src="https://user-images.githubusercontent.com/80879658/112343460-bcf54980-8cf5-11eb-822a-edab92bb4ffb.png">
<img width="806" alt="ภาพถ่ายหน้าจอ 2564-03-23 เวลา 19 34 04" src="https://user-images.githubusercontent.com/80879658/112343471-bf57a380-8cf5-11eb-92ea-aacda9840161.png">
<img width="803" alt="ภาพถ่ายหน้าจอ 2564-03-23 เวลา 19 35 17" src="https://user-images.githubusercontent.com/80879658/112343481-c1216700-8cf5-11eb-866b-21443159afad.png">
<img width="804" alt="ภาพถ่ายหน้าจอ 2564-03-23 เวลา 19 37 13" src="https://user-images.githubusercontent.com/80879658/112343490-c383c100-8cf5-11eb-9c23-f0f85b2f98aa.png">

* ผลการทำงานของโปรแกรมที่รันสำเร็จ ได้ผลดังนี้


## อภิปรายผลการทดลอง
จากผลการทดลองแสดงให้เห็นว่าโปรแกรมเชื่อมต่อไวไฟและเว็บเซอร์เวอร์ที่ทำการรันบนไมโครคอนโทรเลอร์สามารถใช้งานได้ โดยผลการทดลองจะเห็นว่าเมื่อทำการทดสอบโปรแกรมที่รันสำเร็จตัวของโปรแกรมจะทำการค้นหาและเชื่อมต่อไวไฟ จะได้IPFSปรากฏขึ้นมาเมื่อทำนำIPFSมาทดสอบในเว็บเบราว์เซอร์จะปรากฏคำว่า'Hello 1'ปรากฏขึ้นมาและเมื่อกดปุ่มเพื่อรีเซตจะปรากฏคำว่า'Hello 2'และ'Hello 3'เพิ่มต่อกันไปเรื่อยๆและเมื่อทดลองแก้ไปโปรแกรม ผลที่ได้จะเป็นไปตามลักษณะเดิมแต่ตัวอักษรมีขนาดใหญ่ขึ้น


## คำถามหลังการทดลอง
* 1.การทดลองที่5และการทดลองที่6 มีความแตกต่างกันอย่างไร (ในการทดลองที่5จะต้องเชื่อมต่อกับไวไฟไว้ก่อนแล้ว แต่ในการการทดลองที่6ไม่จำเป็นต้องเชื่อมต่อไว้ก่อน)


